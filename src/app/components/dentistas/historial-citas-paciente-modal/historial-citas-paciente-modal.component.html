<h2 mat-dialog-title class="modal-title">Historial de Citas</h2>

<mat-dialog-content class="dialog-content-wrapper">
    <div *ngIf="loading" class="loading">
      <mat-spinner diameter="30"></mat-spinner>
      <span>Cargando historial...</span>
    </div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <table *ngIf="!loading && citas.length > 0" class="historial-table">
    <thead>
      <tr>
        <th>Fecha</th>
        <th>Profesional</th>
        <th>Tratamiento</th>
        <th>Motivo</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let cita of citas">
        <td>{{ formatFecha(cita.fecha_cita) }}</td>
        <td>{{ cita.profesional }}</td>
        <td>{{ cita.tratamiento }}</td>
        <td>{{ cita.motivo_cancelacion || '-' }}</td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="!loading && citas.length === 0" class="sin-citas">No hay citas registradas.</p>
</mat-dialog-content>

<mat-dialog-actions align="end" class="modal-actions">
  <button mat-button mat-dialog-close>Cerrar</button>
</mat-dialog-actions>

