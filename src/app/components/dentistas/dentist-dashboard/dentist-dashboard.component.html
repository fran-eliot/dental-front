<div class="dashboard-container">
  <h2>Bienvenido, Dr./Dra. {{ dentistName }}</h2>

  <section class="dashboard-summary">
    <h3>Citas para hoy ({{ todayFormateado }})</h3>

    <div *ngIf="todayAppointments.length > 0; else noAppointments">
      <ul>
        <li *ngFor="let appt of todayAppointments" [ngClass]="getEstadoClass(appt.estado)">
          <span class="appt-time">{{ formatHour(appt.hora_inicio) }}</span>

          <span class="appt-patient">
            {{ appt.paciente || 'N/A' }}
            <button class="historial-btn" (click)="abrirHistorial(appt.paciente_id)">
              <mat-icon>event-note</mat-icon>
            </button>
          </span>

          <span class="appt-info">
            {{ appt.tratamiento || 'N/A' }} -
            {{ appt.motivo_cancelacion || 'N/A' }} -
            {{ appt.estado || 'N/A' }}
          </span>
        </li>
      </ul>
    </div>

    <ng-template #noAppointments>
      <p>No tienes citas para hoy.</p>
    </ng-template>
  </section>
</div>



